<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="wrapper">
    </div>
</body>
<script>

    // ä»ä¸Šä¸€èŠ‚çš„ä»£ç ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å‡½æ•°ä¸­åŒ…å«äº†DOMçš„æ“ä½œï¼Œå› ä¸ºç°åœ¨åªæœ‰isLikedè¿™ä¸€ä¸ªçŠ¶æ€ï¼Œç”±äºæ•°æ®çŠ¶æ€æ”¹å˜ä¼šå¯¼è‡´éœ€è¦æˆ‘ä»¬å»æ›´æ–°é¡µé¢çš„å†…å®¹ï¼Œå¦‚æœç»„ä»¶ä¾èµ–äº†å¾ˆå¤šçŠ¶æ€ï¼Œé‚£ä¹ˆè¿™ä¸ªç»„ä»¶åŸºæœ¬éƒ½æ˜¯DOMæ“ä½œ
    // æ€è€ƒï¼šå¦‚ä½•å‡å°‘æ‰‹åŠ¨çš„DOMæ“ä½œ
    // method 1  ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œæˆ‘ä»¬å°±é‡æ–°è°ƒç”¨ä¸€æ¬¡renderæ–¹æ³•ï¼Œè¿™æ ·çš„åšæ³•å¯ä»¥ä½¿ä½ åœ¨renderæ–¹æ³•ä¸­ä½¿ç”¨æœ€æ–°çš„æ•°æ®çŠ¶æ€ï¼Œ é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä»£ç 

const createDOMFromString = (domStr)=>{
    const div = document.createElement('div')
    div.innerHTML = domStr;
    return div
}
class LikeButton{
    constructor (){
        this.state = { isLike : false }
    }
    setState(state){
        const oldEl = this.el;
        this.state = state;
        this.el = this.render();
        if (this.onStateChange) this.onStateChange(oldEl, this.el)
    }
    changeLikeText(){
        this.setState({
            isLike: !this.state.isLike
        })
    }
    render(){
         
        this.el = createDOMFromString(`
            <button class='like-btn'>
                <span class='like-text'>${this.state.isLike ? 'å–æ¶ˆ':'ç‚¹èµ'}</span>
                <span>ğŸ‘</span>
            </button>`
        )
        this.el.addEventListener('click',this.changeLikeText.bind(this),false)
        return this.el;
     }
 }
 
 const wrapper = document.querySelector('.wrapper')
 const likeButton = new LikeButton()
 wrapper.appendChild(likeButton.render()) // ç¬¬ä¸€æ¬¡æ’å…¥ DOM å…ƒç´ 
 likeButton.onStateChange = (oldEl, newEl) => {
  wrapper.insertBefore(newEl, oldEl) // æ’å…¥æ–°çš„å…ƒç´ 
  wrapper.removeChild(oldEl) // åˆ é™¤æ—§çš„å…ƒç´ 
 }
</script>
</html>